<Page x:Class="AlexAssistant.OverlaySetPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:AlexAssistant"
      mc:Ignorable="d"
      d:DesignHeight="480" d:DesignWidth="400"
      Title="OverlaySetPage"
      Background="#2D2D2D"
      Foreground="WhiteSmoke"
      Loaded="Page_Loaded">

    <Page.Resources>
        <Style TargetType="ScrollBar">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Width" Value="8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ScrollBar">
                        <Grid Background="Transparent">
                            <Track Name="PART_Track" IsDirectionReversed="true" Focusable="false">
                                <Track.Thumb>
                                    <Thumb Background="#393939" Height="40" Margin="0">
                                        <Thumb.Template>
                                            <ControlTemplate TargetType="Thumb">
                                                <Border Background="{TemplateBinding Background}"
                                                        BorderBrush="#393939"
                                                        BorderThickness="0"
                                                        CornerRadius="4"/>
                                            </ControlTemplate>
                                        </Thumb.Template>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Button style for consistency -->
        <Style x:Key="ActionButton" TargetType="Button">
            <Setter Property="Background" Value="#606060"/>
            <Setter Property="Foreground" Value="WhiteSmoke"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center"
                                      VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#565656"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Toggle Button Style -->
        <Style x:Key="ToggleButtonStyle" TargetType="ToggleButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Border x:Name="Border" 
                                    Width="40" 
                                    Height="20" 
                                    CornerRadius="10" 
                                    Background="#808080" 
                                    Margin="0,0,8,0">
                                <Ellipse x:Name="Indicator"
                                       Width="14"
                                       Height="14"
                                       Fill="White"
                                       HorizontalAlignment="Left"
                                       Margin="3,0,0,0"/>
                            </Border>

                            <ContentPresenter Grid.Column="1" 
                                              ContentSource="Content" 
                                              VerticalAlignment="Center"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="#6495ED"/>
                                <Setter TargetName="Indicator" Property="HorizontalAlignment" Value="Right"/>
                                <Setter TargetName="Indicator" Property="Margin" Value="0,0,3,0"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Foreground" Value="WhiteSmoke"/>
            <Setter Property="Margin" Value="0,8,0,15"/>
        </Style>
    </Page.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="0">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

           

            <Border Background="#2c2c2c"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Top"
                    Padding="30"
                    CornerRadius="5"
                    MaxWidth="500"
                    Margin="10"
                    Grid.Row="1">

                <StackPanel Orientation="Vertical">

                    <TextBlock Text="This function displays an overlay image when the user is not detected in the camera's field of view."
                               TextWrapping="Wrap"
                               Margin="0,0,0,25"
                               FontSize="13"/>
                    <ToggleButton x:Name="SaveConfidenceToggle"
               Content="Save Confidence Func"
               Style="{StaticResource ToggleButtonStyle}"
               Checked="SaveConfidenceToggle_CheckedChanged"
               Unchecked="SaveConfidenceToggle_CheckedChanged"
               Margin="0,0,0,20"/>

                    <TextBlock Text="Choose Overlay Image"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Margin="0,0,0,8"/>

                    <ComboBox x:Name="OverlayComboBox"
                              Margin="0,0,0,10"
                              SelectionChanged="OverlayComboBox_SelectionChanged"
                              FontSize="13"
                              Padding="8,5"/>

                    <!-- Button to Add Custom Overlay -->
                    <Button x:Name="AddCustomOverlayButton"
                            Content="Add Custom Overlay"
                            Click="AddCustomOverlayButton_Click"
                            Style="{StaticResource ActionButton}"
                            Margin="0,0,0,25"/>

                    <!-- Save Confidence Toggle Button -->
                   

                    <TextBlock Text="Train Model"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Margin="0,10,0,8"/>
                    <Button x:Name="TrainButton"
                            Content="Train"
                            Click="TrainButton_Click"
                            Style="{StaticResource ActionButton}"
                            Margin="0,0,0,25"/>

                    <TextBlock Text="Your Overlay Image"
                               FontSize="14"
                               FontWeight="SemiBold"
                               Margin="0,10,0,8"/>

                    <Border BorderBrush="#606060" BorderThickness="1" Background="Black" Height="180">
                        <MediaElement x:Name="OverlayPreview"
                                      Stretch="Fill"
                                      LoadedBehavior="Manual"
                                      UnloadedBehavior="Stop"
                                      ScrubbingEnabled="True"/>
                    </Border>

                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</Page>